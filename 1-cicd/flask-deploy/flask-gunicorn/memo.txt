docker run -it -d -v /home/wasadmin/workspace/flask-deploy:/home/wasadmin/workspace/flask-deploy -p 5000:5000 --name flask-deploy python:latest

docker exec -it flask-deploy bash

■01■ flask
1. 설치
pip install Flask
2. app 실행
python3 myflask.py


■02■ gunicorn
1. 설치
pip install gunicorn
2. app 실행
gunicorn -w 4 -b 0.0.0.0:5000 'myflask:app_with_gunicorn'




1. 설치
apt-get update
apt-get install -y supervisor

touch /var/run/supervisor.sock
chmod 777 /var/run/supervisor.sock
service supervisor restart


2. 사용
설치가 완료되었다면, /etc/supervisor 경로가 생성되었을 것이다. 해당 경로로 이동하면 다음과 같은 결과를 확인할 수 있다.

$ cd /etc/supervisor
$ ls
conf.d  supervisord.conf

conf.d/ : 각 프로세스별 설정 파일을 저장하는 공간

supervisord.conf : 설정 파일 작성 방법

supervisor에 원하는 프로그램을 관리받으려면 해당 프로그램을 위한 설정 파일을 생성해주어야 한다. supervisord.conf 파일의 경우, 그 사용법을 적어놨지만 필자는 이해가 안되서 스킵한다.영어병신

실제 설정 파일은 모두, conf.d 디렉터리에 저장하면 된다.

​

이제 해당 경로에서 설정 파일을 생성하여 작성해보자.

sudo nano /etc/supervisor/conf.d/example.conf




